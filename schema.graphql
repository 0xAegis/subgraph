type Post @entity {
  id: ID!
  isPaid: Boolean!
  text: String!
  attachments: [String!]!
  timestamp: BigInt!
  author: User!
}

type User @entity {
  id: ID!
  name: String!
  arcanaPublicKey: String!
  nftAddress: Bytes!
  posts: [Post!]! @derivedFrom(field: "author")
  nftMinted: [AST!]! @derivedFrom(field: "user")
  nftHolding: [AST!]! @derivedFrom(field: "holder")
}

type AST @entity {
  id: ID!
  tokenId: BigInt!
  mintedTo: User!
  user: User!
  holder: User!
}
